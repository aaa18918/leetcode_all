class Solution(object):
    def numberOfBoomerangs(self, points):
        """
        :type points: List[List[int]]
        :rtype: int
        """
        
        res = 0
        for x1, y1 in points:
            dis_table = {}
            for x2, y2 in points:
                dis = (x1-x2)**2+(y1-y2)**2
                if dis not in dis_table:
                    dis_table[dis] = 0
                dis_table[dis] += 1

            for num_of_points in dis_table.itervalues():
                res += num_of_points*(num_of_points-1)

        return res
