O(n) time, O(n) space
class WordDistance(object):

    def __init__(self, words):
        """
        :type words: List[str]
        """
        
        self.hash_table = collections.defaultdict(list)
        for idx, word in enumerate(words):
            self.hash_table[word].append(idx)

    def shortest(self, word1, word2):
        """
        :type word1: str
        :type word2: str
        :rtype: int
        """
        
        res = sys.maxint
        idx1, idx2, size1, size2 = 0, 0, len(self.hash_table[word1]), len(self.hash_table[word2])
        while idx1 < size1 and idx2 < size2:
            if self.hash_table[word1][idx1] == self.hash_table[word2][idx2]:
                return 0
            elif self.hash_table[word1][idx1] < self.hash_table[word2][idx2]:
                res = min(res, self.hash_table[word2][idx2]-self.hash_table[word1][idx1])
                idx1 += 1
            else:
                res = min(res, self.hash_table[word1][idx1]-self.hash_table[word2][idx2])
                idx2 += 1
        
        return res

# Your WordDistance object will be instantiated and called as such:
# obj = WordDistance(words)
# param_1 = obj.shortest(word1,word2)
