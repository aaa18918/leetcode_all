O(n) time, O(n) space
class Solution(object):
    def licenseKeyFormatting(self, S, K):
        """
        :type S: str
        :type K: int
        :rtype: str
        """
        
        S = S.upper().replace('-', '')
        left = K if len(S)%K == 0 else len(S)%K
        res = S[:left]
        for idx in range(left, len(S), K):
            res += '-'+S[idx:idx+K]
        return res
