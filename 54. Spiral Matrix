O(mn) time, O(mn) space
class Solution(object):
    def spiralOrder(self, matrix):
        """
        :type matrix: List[List[int]]
        :rtype: List[int]
        """
        
        if not matrix: return []
        
        low_x, high_x = 0, len(matrix)-1
        low_y, high_y = 0, len(matrix[0])-1
        
        x, y, res = 0, -1, []
        while low_x <= high_x or low_y <= high_y:
            while y < high_y:
                y += 1
                res.append(matrix[x][y])
            
            low_x += 1
            if low_x > high_x: break
            
            while x < high_x:
                x += 1
                res.append(matrix[x][y])
            
            high_y -= 1
            if low_y > high_y: break

            while y > low_y:
                y -= 1
                res.append(matrix[x][y])
            
            high_x -= 1
            if low_x > high_x: break
            
            while x > low_x:
                x -= 1
                res.append(matrix[x][y])
            
            low_y += 1
            if low_y > high_y: break
        
        return res
