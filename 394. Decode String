O(n) time, O(n) space
class Solution(object):
    def decodeString(self, s):
        """
        :type s: str
        :rtype: str
        """
        
        my_stack = [["", '1']]
        num = ""
        for char in s:
            if '0' <= char <= '9':
                num += char
            elif char == '[':
                my_stack.append(['', int(num)])
                num = ''
            elif char == ']':
                string, times = my_stack.pop()
                my_stack[-1][0] += string*times
            else:
                my_stack[-1][0] += char
        return my_stack[-1][0]
