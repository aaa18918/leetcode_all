O(n^2) time, O(n) space
class Solution(object):
    def countAndSay(self, n):
        """
        :type n: int
        :rtype: str
        """
        
        res = '1'
        for i in range(n-1):
            count, size, cur = 1, len(res), ""
            for idx in range(1, size+1):
                if idx == size or res[idx] != res[idx-1]:
                    cur += str(count)+res[idx-1]
                    count = 1
                else:
                    count += 1
            res = cur
        return res
