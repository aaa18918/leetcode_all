O(496) time, O(1) space
class Solution(object):
    def divide(self, dividend, divisor):
        """
        :type dividend: int
        :type divisor: int
        :rtype: int
        """
        
        res = 0
        dividend, divisor, is_positive = abs(dividend), abs(divisor), (dividend > 0) is (divisor > 0)
        while dividend >= divisor:
            temp = divisor
            cur = 1
            while temp <= dividend:
                cur <<= 1
                temp <<= 1
            dividend -= (temp>>1)
            res += (cur>>1)
        
        res = res if is_positive else -res
        return max(-2147483648, min(res, 2147483647))
